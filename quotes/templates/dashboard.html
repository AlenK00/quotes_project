<!DOCTYPE html>
<html>
<head>
    <title>–î–∞—à–±–æ—Ä–¥ —Ü–∏—Ç–∞—Ç</title>
    <style>
        .stats { display: flex; gap: 20px; margin: 20px 0; }
        .stat-card { border: 1px solid #ccc; padding: 15px; border-radius: 5px; background: #f9f9f9; }
        .filters { background: #eee; padding: 15px; margin: 20px 0; border-radius: 5px; }
        .quote-item { border: 1px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>üìä –î–∞—à–±–æ—Ä–¥ —Ü–∏—Ç–∞—Ç</h1>
    
    <div class="stats">
        <div class="stat-card">
            <h3>üìù –í—Å–µ–≥–æ —Ü–∏—Ç–∞—Ç</h3>
            <p>{{ total_quotes }}</p>
        </div>
        <div class="stat-card">
            <h3>üé¨ –ò—Å—Ç–æ—á–Ω–∏–∫–æ–≤</h3>
            <p>{{ total_sources }}</p>
        </div>
        <div class="stat-card">
            <h3>üëÄ –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</h3>
            <p>{{ total_views }}</p>
        </div>
        <div class="stat-card">
            <h3>üëç –õ–∞–π–∫–æ–≤</h3>
            <p>{{ total_likes }}</p>
        </div>
    </div>

    <div class="filters">
        <h3>üîç –§–∏–ª—å—Ç—Ä—ã</h3>
        <form method="get">
            <label>–¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞:
                <select name="type">
                    <option value="">–í—Å–µ</option>
                    <option value="movie" {% if source_type == "movie" %}selected{% endif %}>–§–∏–ª—å–º—ã</option>
                    <option value="book" {% if source_type == "book" %}selected{% endif %}>–ö–Ω–∏–≥–∏</option>
                    <option value="other" {% if source_type == "other" %}selected{% endif %}>–î—Ä—É–≥–æ–µ</option>
                </select>
            </label>
            
            <label>–ú–∏–Ω. –ª–∞–π–∫–æ–≤:
                <input type="number" name="min_likes" value="{{ min_likes }}" min="0">
            </label>
            
            <button type="submit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <a href="{% url 'dashboard' %}">–°–±—Ä–æ—Å–∏—Ç—å</a>
        </form>
    </div>

    <h2>üìà –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã</h2>
    {% for quote in filtered_quotes %}
    <div class="quote-item">
        <p>"{{ quote.text }}"</p>
        <p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫:</strong> {{ quote.source.name }} ({{ quote.source.get_type_display }})</p>
        <p>üëç {{ quote.likes }} | üëé {{ quote.dislikes }} | üëÄ {{ quote.views }} | ‚öñÔ∏è –í–µ—Å: {{ quote.weight }}</p>
        <a href="{% url 'edit_quote' quote.id %}">–ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Å</a>
    </div>
    {% endfor %}

    <h2>üèÜ –¢–æ–ø –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</h2>
    {% for source in popular_sources %}
    <div class="quote-item">
        <p><strong>{{ source.name }}</strong> ({{ source.get_type_display }})</p>
        <p>–¶–∏—Ç–∞—Ç: {{ source.total_quotes }} | –õ–∞–π–∫–æ–≤: {{ source.total_likes }}</p>
    </div>
    {% endfor %}

    <br>
    <a href="{% url 'random_quote' %}">üé≤ –°–ª—É—á–∞–π–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞</a> | 
    <a href="{% url 'add_quote' %}">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ü–∏—Ç–∞—Ç—É</a> | 
    <a href="{% url 'popular_quotes' %}">‚≠ê –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ</a>
</body>
</html>