{% extends 'base.html' %}

{% block title %}Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ñ†Ğ¸Ñ‚Ğ°Ñ‚{% endblock %}

{% block header %}ğŸ“Š Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ñ†Ğ¸Ñ‚Ğ°Ñ‚{% endblock %}

{% block content %}
<div class="stats">
    <div class="stat-card">
        <h3>ğŸ“ Ğ’ÑĞµĞ³Ğ¾ Ñ†Ğ¸Ñ‚Ğ°Ñ‚</h3>
        <p>{{ total_quotes }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ¬ Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²</h3>
        <p>{{ total_sources }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ‘€ ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ²</h3>
        <p>{{ total_views }}</p>
    </div>
    <div class="stat-card">
        <h3>ğŸ‘ Ğ›Ğ°Ğ¹ĞºĞ¾Ğ²</h3>
        <p>{{ total_likes }}</p>
    </div>
</div>

<div class="filters">
    <h3>ğŸ” Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹</h3>
    <form method="get">
        <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">
            <div>
                <label>Ğ¢Ğ¸Ğ¿ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°:</label>
                <select name="type">
                    <option value="">Ğ’ÑĞµ</option>
                    <option value="movie" {% if source_type == "movie" %}selected{% endif %}>ğŸ¬ Ğ¤Ğ¸Ğ»ÑŒĞ¼Ñ‹</option>
                    <option value="series" {% if source_type == "series" %}selected{% endif %}>ğŸ“º Ğ¡ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹</option>
                    <option value="book" {% if source_type == "book" %}selected{% endif %}>ğŸ“š ĞšĞ½Ğ¸Ğ³Ğ¸</option>
                    <option value="song" {% if source_type == "song" %}selected{% endif %}>ğŸµ ĞŸĞµÑĞ½Ğ¸</option>
                    <option value="game" {% if source_type == "game" %}selected{% endif %}>ğŸ® Ğ˜Ğ³Ñ€Ñ‹</option>
                    <option value="poem" {% if source_type == "poem" %}selected{% endif %}>ğŸ“ Ğ¡Ñ‚Ğ¸Ñ…Ğ¸</option>
                    <option value="speech" {% if source_type == "speech" %}selected{% endif %}>ğŸ¤ Ğ’Ñ‹ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ñ</option>
                    <option value="social" {% if source_type == "social" %}selected{% endif %}>ğŸ“± Ğ¡Ğ¾Ñ†ÑĞµÑ‚Ğ¸</option>
                    <option value="proverb" {% if source_type == "proverb" %}selected{% endif %}>ğŸ’¬ ĞŸĞ¾ÑĞ»Ğ¾Ğ²Ğ¸Ñ†Ñ‹</option>
                    <option value="other" {% if source_type == "other" %}selected{% endif %}>â“ Ğ”Ñ€ÑƒĞ³Ğ¾Ğµ</option>
                </select>
            </div>
            
            <div>
                <label>ĞœĞ¸Ğ½. Ğ»Ğ°Ğ¹ĞºĞ¾Ğ²:</label>
                <input type="number" name="min_likes" value="{{ min_likes }}" min="0" style="width: 80px;">
            </div>
            
            <div>
                <button type="submit" class="btn" style="padding: 8px 20px;">ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ</button>
                <a href="{% url 'dashboard' %}" style="margin-left: 10px;">Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ</a>
            </div>
        </div>
    </form>
</div>

<h2 style="text-align: center; margin: 30px 0 20px 0; color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px;">ğŸ“ˆ ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ñ†Ğ¸Ñ‚Ğ°Ñ‚Ñ‹</h2>
{% for quote in filtered_quotes %}
<div class="quote-card">
    <p class="quote-text">"{{ quote.text }}"</p>
    <p class="quote-source"><strong>Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:</strong> {{ quote.source.name }} ({{ quote.source.get_type_display }})</p>
    <div class="quote-stats">
        <span>ğŸ‘ {{ quote.likes }}</span>
        <span>ğŸ‘ {{ quote.dislikes }}</span>
        <span>ğŸ‘€ {{ quote.views }}</span>
        <span>âš–ï¸ {{ quote.weight }}</span>
    </div>
    <div style="margin-top: 15px;">
        <a href="{% url 'edit_quote' quote.id %}" class="btn" style="padding: 8px 20px; font-size: 0.9em;">âœï¸ Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ²ĞµÑ</a>
    </div>
</div>
{% empty %}
<div class="quote-card">
    <p class="quote-text">ĞĞµÑ‚ Ñ†Ğ¸Ñ‚Ğ°Ñ‚ Ğ¿Ğ¾ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¼ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼</p>
</div>
{% endfor %}

<h2 style="text-align: center; margin: 40px 0 20px 0; color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px;">ğŸ† Ğ¢Ğ¾Ğ¿ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²</h2>
{% for source in popular_sources %}
<div class="quote-card">
    <p class="quote-text"><strong>{{ source.name }}</strong> ({{ source.get_type_display }})</p>
    <div class="quote-stats">
        <span>ğŸ“ Ğ¦Ğ¸Ñ‚Ğ°Ñ‚: {{ source.total_quotes }}</span>
        <span>ğŸ‘ Ğ›Ğ°Ğ¹ĞºĞ¾Ğ²: {{ source.total_likes }}</span>
    </div>
</div>
{% empty %}
<div class="quote-card">
    <p class="quote-text">ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ğ± Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°Ñ…</p>
</div>
{% endfor %}
{% endblock %}


<!--<!DOCTYPE html>
<html>
<head>
    <title>Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ñ†Ğ¸Ñ‚Ğ°Ñ‚</title>
    <style>
        .stats { display: flex; gap: 20px; margin: 20px 0; }
        .stat-card { border: 1px solid #ccc; padding: 15px; border-radius: 5px; background: #f9f9f9; }
        .filters { background: #eee; padding: 15px; margin: 20px 0; border-radius: 5px; }
        .quote-item { border: 1px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 5px; }
    
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ñ†Ğ¸Ñ‚Ğ°Ñ‚</h1>
        
        <div class="stats">
            <div class="stat-card">
                <h3>ğŸ“ Ğ’ÑĞµĞ³Ğ¾ Ñ†Ğ¸Ñ‚Ğ°Ñ‚</h3>
                <p>{{ total_quotes }}</p>
            </div>
            <div class="stat-card">
                <h3>ğŸ¬ Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²</h3>
                <p>{{ total_sources }}</p>
            </div>
            <div class="stat-card">
                <h3>ğŸ‘€ ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ²</h3>
                <p>{{ total_views }}</p>
            </div>
            <div class="stat-card">
                <h3>ğŸ‘ Ğ›Ğ°Ğ¹ĞºĞ¾Ğ²</h3>
                <p>{{ total_likes }}</p>
            </div>
        </div>

        <div class="filters">
            <h3>ğŸ” Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹</h3>
            <form method="get">
                <label>Ğ¢Ğ¸Ğ¿ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°:
                    <select name="type">
                        <option value="">Ğ’ÑĞµ</option>
                        <option value="movie" {% if source_type == "movie" %}selected{% endif %}>ğŸ¬ Ğ¤Ğ¸Ğ»ÑŒĞ¼Ñ‹</option>
                        <option value="series" {% if source_type == "series" %}selected{% endif %}>ğŸ“º Ğ¡ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹</option>
                        <option value="book" {% if source_type == "book" %}selected{% endif %}>ğŸ“š ĞšĞ½Ğ¸Ğ³Ğ¸</option>
                        <option value="song" {% if source_type == "song" %}selected{% endif %}>ğŸµ ĞŸĞµÑĞ½Ğ¸</option>
                        <option value="game" {% if source_type == "game" %}selected{% endif %}>ğŸ® Ğ˜Ğ³Ñ€Ñ‹</option>
                        <option value="poem" {% if source_type == "poem" %}selected{% endif %}>ğŸ“ Ğ¡Ñ‚Ğ¸Ñ…Ğ¸</option>
                        <option value="speech" {% if source_type == "speech" %}selected{% endif %}>ğŸ¤ Ğ’Ñ‹ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ñ</option>
                        <option value="social" {% if source_type == "social" %}selected{% endif %}>ğŸ“± Ğ¡Ğ¾Ñ†ÑĞµÑ‚Ğ¸</option>
                        <option value="proverb" {% if source_type == "proverb" %}selected{% endif %}>ğŸ’¬ ĞŸĞ¾ÑĞ»Ğ¾Ğ²Ğ¸Ñ†Ñ‹</option>
                        <option value="other" {% if source_type == "other" %}selected{% endif %}>â“ Ğ”Ñ€ÑƒĞ³Ğ¾Ğµ</option>
                    </select>
                </label>
                
                <label>ĞœĞ¸Ğ½. Ğ»Ğ°Ğ¹ĞºĞ¾Ğ²:
                    <input type="number" name="min_likes" value="{{ min_likes }}" min="0">
                </label>
                
                <button type="submit">ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ</button>
                <a href="{% url 'dashboard' %}">Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ</a>
            </form>
        </div>

        <h2>ğŸ“ˆ ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ñ†Ğ¸Ñ‚Ğ°Ñ‚Ñ‹</h2>
        {% for quote in filtered_quotes %}
        <div class="quote-item">
            <p>"{{ quote.text }}"</p>
            <p><strong>Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:</strong> {{ quote.source.name }} ({{ quote.source.get_type_display }})</p>
            <p>ğŸ‘ {{ quote.likes }} | ğŸ‘ {{ quote.dislikes }} | ğŸ‘€ {{ quote.views }} | âš–ï¸ Ğ’ĞµÑ: {{ quote.weight }}</p>
            <a href="{% url 'edit_quote' quote.id %}">âœï¸ Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ²ĞµÑ</a>
        </div>
        {% endfor %}

        <h2>ğŸ† Ğ¢Ğ¾Ğ¿ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²</h2>
        {% for source in popular_sources %}
        <div class="quote-item">
            <p><strong>{{ source.name }}</strong> ({{ source.get_type_display }})</p>
            <p>Ğ¦Ğ¸Ñ‚Ğ°Ñ‚: {{ source.total_quotes }} | Ğ›Ğ°Ğ¹ĞºĞ¾Ğ²: {{ source.total_likes }}</p>
        </div>
        {% endfor %}

        <div class="navigation">
            <a href="{% url 'random_quote' %}">ğŸ² Ğ¡Ğ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ°Ñ Ñ†Ğ¸Ñ‚Ğ°Ñ‚Ğ°</a>
            <a href="{% url 'add_quote' %}">â• Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ†Ğ¸Ñ‚Ğ°Ñ‚Ñƒ</a>
            <a href="{% url 'popular_quotes' %}">â­ ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ</a>
            <a href="{% url 'dashboard' %}">ğŸ“Š Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´</a>
        </div>
    </div>
</body>

-->

